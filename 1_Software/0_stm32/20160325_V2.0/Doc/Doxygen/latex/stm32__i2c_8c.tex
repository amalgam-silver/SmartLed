\hypertarget{stm32__i2c_8c}{\section{\-C\-:/\-Users/admin/\-Documents/\-Git\-Hub/\-Smart\-Led/1\-\_\-\-Software/0\-\_\-stm32/20160325\-\_\-\-V2.0/\-Code/\-Cpu/stm32\-\_\-i2c.c \-File \-Reference}
\label{stm32__i2c_8c}\index{\-C\-:/\-Users/admin/\-Documents/\-Git\-Hub/\-Smart\-Led/1\-\_\-\-Software/0\-\_\-stm32/20160325\-\_\-\-V2.\-0/\-Code/\-Cpu/stm32\-\_\-i2c.\-c@{\-C\-:/\-Users/admin/\-Documents/\-Git\-Hub/\-Smart\-Led/1\-\_\-\-Software/0\-\_\-stm32/20160325\-\_\-\-V2.\-0/\-Code/\-Cpu/stm32\-\_\-i2c.\-c}}
}


通过stm32的i2c控制器读写\-I2\-C设备  


{\ttfamily \#include \char`\"{}stm32\-\_\-i2c.\-h\char`\"{}}\*
{\ttfamily \#include \char`\"{}string.\-h\char`\"{}}\*
\-Include dependency graph for stm32\-\_\-i2c.\-c\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{stm32__i2c_8c__incl}
\end{center}
\end{figure}
\subsection*{\-Data \-Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_s_t_r___i2c_proc}{\-S\-T\-R\-\_\-\-I2c\-Proc}
\begin{DoxyCompactList}\small\item\em \-I2\-C收发过程相关中间变量结构体 \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{\-Defines}
\begin{DoxyCompactItemize}
\item 
\hypertarget{group___i2_c_gabf2bd419e88218ef9ad3a3a7dd2b145c}{\#define \hyperlink{group___i2_c_gabf2bd419e88218ef9ad3a3a7dd2b145c}{\-I2\-C1\-\_\-\-D\-R\-\_\-\-Address}~0x40005410}\label{group___i2_c_gabf2bd419e88218ef9ad3a3a7dd2b145c}

\begin{DoxyCompactList}\small\item\em \-I2\-C1数据寄存器地址 \end{DoxyCompactList}\item 
\hypertarget{group___i2_c_gacb13e35c5e812ea51d29e833be1b72be}{\#define \hyperlink{group___i2_c_gacb13e35c5e812ea51d29e833be1b72be}{\-I2\-C\-\_\-\-R\-D}~0}\label{group___i2_c_gacb13e35c5e812ea51d29e833be1b72be}

\begin{DoxyCompactList}\small\item\em 读寄存器 \end{DoxyCompactList}\item 
\hypertarget{group___i2_c_ga5a3e7b03fa275ec2d334e95a2caf6477}{\#define \hyperlink{group___i2_c_ga5a3e7b03fa275ec2d334e95a2caf6477}{\-I2\-C\-\_\-\-W\-R}~1}\label{group___i2_c_ga5a3e7b03fa275ec2d334e95a2caf6477}

\begin{DoxyCompactList}\small\item\em 写寄存器 \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{\-Typedefs}
\begin{DoxyCompactItemize}
\item 
\hypertarget{group___i2_c_gaed499a25832ba009a4a212e310ddac45}{typedef enum \hyperlink{group___i2_c_ga3acd3f8324118cb8c44f79b0fa24190a}{i2c\-\_\-state} \hyperlink{group___i2_c_gaed499a25832ba009a4a212e310ddac45}{\-I2\-C\-\_\-\-S\-T\-A\-T\-E}}\label{group___i2_c_gaed499a25832ba009a4a212e310ddac45}

\begin{DoxyCompactList}\small\item\em \-I2\-C收发过程状态 \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{\-Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{group___i2_c_ga3acd3f8324118cb8c44f79b0fa24190a}{i2c\-\_\-state} \{ \*
\hyperlink{group___i2_c_gga3acd3f8324118cb8c44f79b0fa24190aa775c023b24ee56b90ca660f91522b78a}{\-C\-O\-M\-M\-\_\-\-D\-O\-N\-E} =  0, 
\hyperlink{group___i2_c_gga3acd3f8324118cb8c44f79b0fa24190aa671d1da07d0d895d5fdc1897b059bdc3}{\-C\-O\-M\-M\-\_\-\-P\-R\-E} =  1, 
{\bfseries \-C\-O\-M\-M\-\_\-\-I\-N\-\_\-\-P\-R\-O\-C\-E\-S\-S} =  2, 
{\bfseries \-C\-H\-E\-C\-K\-\_\-\-I\-N\-\_\-\-P\-R\-O\-C\-E\-S\-S} =  3, 
\*
\hyperlink{group___i2_c_gga3acd3f8324118cb8c44f79b0fa24190aa4a81f9df06f1e648593f415eba9eb1d0}{\-C\-O\-M\-M\-\_\-\-E\-X\-I\-T} =  4
 \}
\begin{DoxyCompactList}\small\item\em \-I2\-C收发过程状态 \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{\-Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group___b_s_p_gaed742c436da53c1080638ce6ef7d13de}{u8} \hyperlink{group___i2_c_ga03d622963958101e7a276a3188365c21}{\-I2\-C\-Read\-Register} (\hyperlink{group___b_s_p_gaed742c436da53c1080638ce6ef7d13de}{u8} slave\-Address, \hyperlink{group___b_s_p_gaed742c436da53c1080638ce6ef7d13de}{u8} register\-Address, \hyperlink{group___b_s_p_gaed742c436da53c1080638ce6ef7d13de}{u8} $\ast$buf, \hyperlink{group___b_s_p_gaed742c436da53c1080638ce6ef7d13de}{u8} num)
\begin{DoxyCompactList}\small\item\em 读取i2c设备的寄存器 \end{DoxyCompactList}\item 
\hyperlink{group___b_s_p_gaed742c436da53c1080638ce6ef7d13de}{u8} \hyperlink{group___i2_c_gae595c5041521bcb3d1d19a2d97bdf365}{\-I2\-C\-Write\-Register} (\hyperlink{group___b_s_p_gaed742c436da53c1080638ce6ef7d13de}{u8} slave\-Address, \hyperlink{group___b_s_p_gaed742c436da53c1080638ce6ef7d13de}{u8} register\-Address, \hyperlink{group___b_s_p_gaed742c436da53c1080638ce6ef7d13de}{u8} $\ast$buf, \hyperlink{group___b_s_p_gaed742c436da53c1080638ce6ef7d13de}{u8} num)
\begin{DoxyCompactList}\small\item\em 写i2c设备的寄存器 \end{DoxyCompactList}\item 
void \hyperlink{group___i2_c_ga7d23473bd5eb72909c1a3588a70bb237}{\-I2\-C\-Init} (void)
\begin{DoxyCompactList}\small\item\em i2c控制器初始化函数 \end{DoxyCompactList}\item 
void \hyperlink{group___i2_c_ga8d90041eb72157c18ceaf840e22945a3}{\-I2\-C\-Read\-Reg\-D\-M\-A} (\hyperlink{group___b_s_p_gaed742c436da53c1080638ce6ef7d13de}{u8} slave\-Addr, \hyperlink{group___b_s_p_gaed742c436da53c1080638ce6ef7d13de}{u8} reg\-Addr, \hyperlink{group___b_s_p_gaed742c436da53c1080638ce6ef7d13de}{u8} $\ast$buf, \hyperlink{group___b_s_p_gaed742c436da53c1080638ce6ef7d13de}{u8} num)
\begin{DoxyCompactList}\small\item\em \-D\-M\-A方式读取i2c设备的寄存器 \end{DoxyCompactList}\item 
void \hyperlink{group___i2_c_ga5ecce9ad43038ccd3847f2f9b90bbc36}{\-I2\-C\-Write\-Reg\-D\-M\-A} (\hyperlink{group___b_s_p_gaed742c436da53c1080638ce6ef7d13de}{u8} slave\-Addr, \hyperlink{group___b_s_p_gaed742c436da53c1080638ce6ef7d13de}{u8} reg\-Addr, \hyperlink{group___b_s_p_gaed742c436da53c1080638ce6ef7d13de}{u8} $\ast$buf, \hyperlink{group___b_s_p_gaed742c436da53c1080638ce6ef7d13de}{u8} num)
\begin{DoxyCompactList}\small\item\em \-D\-M\-A方式写i2c设备的寄存器 \end{DoxyCompactList}\item 
void \hyperlink{group___i2_c_ga272ffa65eb8ff5c4a065b0d3473611cd}{\-I2\-C1\-\_\-\-E\-V\-\_\-\-I\-R\-Q\-Handler} (void)
\begin{DoxyCompactList}\small\item\em \-I2\-C1事件中断处理函数 \end{DoxyCompactList}\item 
void \hyperlink{group___i2_c_gad25274aece51e7f5b821f5d32b31bddf}{\-I2\-C1\-\_\-\-E\-R\-\_\-\-I\-R\-Q\-Handler} (void)
\begin{DoxyCompactList}\small\item\em \-I2\-C1错误中断处理函数 \end{DoxyCompactList}\item 
void \hyperlink{group___i2_c_gab74311855aee10304ffc57c319c91ed3}{\-D\-M\-A1\-\_\-\-Channel6\-\_\-\-I\-R\-Q\-Handler} (void)
\begin{DoxyCompactList}\small\item\em \-D\-M\-A1\-\_\-\-C\-H6中断处理函数 \end{DoxyCompactList}\item 
void \hyperlink{group___i2_c_ga7a964205d5b1ce4b9c69ae6a105145ca}{\-D\-M\-A1\-\_\-\-Channel7\-\_\-\-I\-R\-Q\-Handler} (void)
\begin{DoxyCompactList}\small\item\em \-D\-M\-A1\-\_\-\-C\-H7中断处理函数 \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{\-Variables}
\begin{DoxyCompactItemize}
\item 
\hypertarget{group___i2_c_ga74d3522c7f760f53f9a042059dae0488}{\hyperlink{struct_s_t_r___i2_c}{\-S\-T\-R\-\_\-\-I2\-C} \hyperlink{group___i2_c_ga74d3522c7f760f53f9a042059dae0488}{\-I2c} = \{0,\}}\label{group___i2_c_ga74d3522c7f760f53f9a042059dae0488}

\begin{DoxyCompactList}\small\item\em \-I2\-C收发结构体 \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{\-Detailed \-Description}
通过stm32的i2c控制器读写\-I2\-C设备 \begin{DoxyAuthor}{\-Author}
\-Ge \-Yue 
\end{DoxyAuthor}
\begin{DoxyVersion}{\-Version}
\-V1.\-0.\-0 
\end{DoxyVersion}
\begin{DoxyDate}{\-Date}
2016.\-03.\-18 \begin{DoxyVerb}
 
  - 版本号       日期      创建人        描述 
    V1.0      2016.03.18   Ge Yue     通过stm32的i2c控制器读写I2C设备; 
 
  - 版本号       日期      修改人        描述 
 \end{DoxyVerb}
 
\end{DoxyDate}
